<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Semester Fullscreen - Exact Layout</title>

<script type="module" src="script.js"></script>


<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">



<style>
  /* Reset & base */
  * { box-sizing: border-box; margin:0; padding:0; }
  html,body { height:100%; }
  body {
    font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: #fff; /* plain white per image */
    overflow: hidden; /* no scrolling ever */
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  /* Page grid: header + content */
  .page {
    height: 100vh; /* full viewport */
    display: grid;
    grid-template-rows: 86px 1fr; /* header height then content */
    grid-template-columns: 1fr 72px; /* content area + reset column */
    gap: 0;
    align-items: start;
  }

  /* Top big red exit button */
  .topbar {
    grid-column: 1 / -1; /* span both columns */
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    padding: 10px 16px;
  }
  .exit-btn {
    width: min(92%, 680px);
    background: #e31616; /* bright red */
    color: #111;
    border-radius: 9px;
    padding: 16px 22px;
    border: 0;
    font-weight: 800;
    font-size: 20px;
    letter-spacing: 1px;
    box-shadow: 0 10px 30px rgba(227,25,25,0.14);
    cursor: pointer;
    text-transform: uppercase;
  }

  /* Content area: left column contains two boxes stacked, right column contains the vertical reset buttons */
  .content {
    grid-column: 1 / 2;
    padding: 10px 16px;
    display: flex;
    flex-direction: column;
    gap: 18px;
    justify-content: center;
    align-items: stretch;
    height: calc(100vh - 86px);
  }

  /* each box style */
  .box {
    border: 8px solid #000; /* bold black border like image */
    border-radius: 8px;
    background: #fff;
    padding: 14px;
    min-height: calc((100vh - 86px - 18px) / 2 ); /* ensure two boxes fill content */
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .box .title {
    font-weight: 100;
    font-size: 20px;
    color: #222;
    letter-spacing: 0.5px;
  }

  .box .textarea {
    flex: 1;
    resize: none;
    border: 0;
    outline: none;
    font-size: 20px;
    line-height: 1.4;
    color: #222;
    background: transparent;
    padding: 8px;
  }

  /* Right column with two big vertical reset buttons (outside boxes) */
  .reset-column {
    grid-column: 2 / 3;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: calc((100vh - 86px - 18px) / 4); /* space so buttons align near middle of each box */
    padding-right: 6px;
    height: calc(100vh - 86px);
  }

  .vertical-reset {
    width: 56px;
    height: 160px; /* tall button */
    background: #2f9bff; /* blue */
    color: #111;
    border: none;
    border-radius: 10px;
    font-weight: 900;
    font-size: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    writing-mode: vertical-rl; /* vertical text */
    transform: rotate(180deg); /* read top-to-bottom */
    box-shadow: 0 10px 24px rgba(47,155,255,0.14);
    cursor: pointer;
  }

  /* small pressed effect */
  .vertical-reset:active { transform: rotate(180deg) scale(0.98); }

  /* Make sure nothing scrolls */
  html,body,.page { overflow: hidden; }

  /* Responsive tweaks for very small screens */
  @media (max-height: 640px) {
    .vertical-reset { height: 130px; font-size: 16px; width:52px; }
    .exit-btn { font-size:18px; padding:12px 18px; min-width: 80%; }
  }
  @media (max-width: 420px) {
    .vertical-reset { height: 120px; font-size:15px; width:50px; }
    .box { padding: 10px; border-width:7px; }
    .exit-btn { width: 92%; font-size:17px; }
  }

  /* MOBILE-ONLY: exact aligned box & reset heights, exit button moved left */
@media (max-width: 900px) {

  /* compute the available area and box height precisely */
  :root {
    /* header is 86px in the layout; gap between boxes we want 18px */
    --header-h: 86px;
    --content-gap: 18px;
    /* box height: (viewport - header - gap) / 2 */
    --box-h: calc((100vh - var(--header-h) - var(--content-gap)) / 2);
  }

  /* keep page grid layout */
  .page {
    grid-template-columns: 1fr 72px;
    grid-template-rows: var(--header-h) 1fr;
  }

  /* content area */
  .content {
    height: calc(100vh - var(--header-h));
    padding: 10px 12px;
    gap: var(--content-gap);
    display: flex;
    flex-direction: column;
  }

  /* Force both boxes to exact same height (no scroll) */
  .box {
    min-height: var(--box-h);
    max-height: var(--box-h);
    height: var(--box-h);
    padding: 12px;
    box-sizing: border-box;
    border-width: 7px;
  }

  /* ensure textarea fills the box correctly */
  .box .textarea {
    height: 100%;
    min-height: 0;
    max-height: 100%;
    overflow: auto;
  }

  /* Reset column exactly matches content area height */
  .reset-column {
    display: grid;
    grid-template-rows: var(--box-h) var(--box-h); /* exactly same heights as boxes */
    gap: var(--content-gap);
    height: calc(100vh - var(--header-h));
    align-items: stretch;
    padding-right: 6px;
  }

  /* Reset buttons fill their grid row and thus match box height exactly */
  .vertical-reset {
    width: 64px;
    height: 100%;            /* full height of the grid row */
    font-size: 20px;
    letter-spacing: 4px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    writing-mode: vertical-rl;
    transform: rotate(180deg);
  }

  /* Move top exit button a little to the left (instead of center) */
  .topbar {
    justify-content: flex-start;
    padding-left: 6%; /* adjust this percent to move more/less left */
  }
  .exit-btn {
    min-width: 80%;
    font-size: 18px;
    padding: 14px 18px;
    /* keep it visually centered inside its new left offset */
  }

  /* Prevent scrolling */
  html, body { overflow: hidden; touch-action: manipulation; }

  /* small screens tweak */
  @media (max-width: 360px) {
    :root { --box-h: calc((100vh - var(--header-h) - (var(--content-gap) + 6px)) / 2); }
    .vertical-reset { width: 56px; font-size:17px; }
    .exit-btn { min-width: 86%; font-size:16px; }
  }
}

</style>
</head>
<body>

<!-- Page wrapper -->
<div class="page" role="main">

  <!-- BIG RED EXIT button -->
  <div class="topbar" aria-hidden="false">
    <button id="exitFull" class="exit-btn">EXIT FULL SCREEN</button>
  </div>

  <!-- Left content: two boxes stacked -->
  <div class="content" role="region" aria-label="Semester boxes">
    <div class="box" id="box1">
      <div class="title">SEMESTER 1</div>
      <textarea id="msg1" class="textarea" placeholder="" oninput="updateTime('1')"></textarea>
    </div>

    <div class="box" id="box2">
      <div class="title">SEMESTER 2</div>
      <textarea id="msg2" class="textarea" placeholder="" oninput="updateTime('2')"></textarea>
    </div>
  </div>

  <!-- Right column: two vertical reset buttons (outside the boxes) -->
  <div class="reset-column" aria-hidden="false">
    <button id="reset1" class="vertical-reset" aria-label="Reset semester 1">RESET</button>
    <button id="reset2" class="vertical-reset" aria-label="Reset semester 2">RESET</button>
  </div>

</div>

<script>
/*
  Minimal JS to make this page functional:
  - reset1 / reset2 clear the corresponding textarea
  - exitFull is provided (can be used to navigate back or hide this page)
  - updateTime is a simple placeholder to show time in console (you can replace with DB logic)
*/

function getCurrentTimeString(){
  const now = new Date();
  let h = now.getHours();
  const m = String(now.getMinutes()).padStart(2, '0');
  const ampm = h >=12 ? 'PM' : 'AM';
  h = h % 12 || 12;
  return `${h}:${m} ${ampm}`;
}

// Called when typing (keeps parity with your old structure)
function updateTime(sem){
  // If you later want to sync with Firebase, add code here.
  // For now we just log the timestamp.
  const t = getCurrentTimeString();
  console.log('updateTime', sem, t);
}

// Reset functions
function resetBox(sem){
  if(sem === '1' || sem === 1){
    document.getElementById('msg1').value = '';
    console.log('resetBox 1');
  } else if(sem === '2' || sem === 2){
    document.getElementById('msg2').value = '';
    console.log('resetBox 2');
  }
}

// Hook UI buttons
document.getElementById('reset1').addEventListener('click', function(e){
  e.preventDefault();
  resetBox('1');
});
document.getElementById('reset2').addEventListener('click', function(e){
  e.preventDefault();
  resetBox('2');
});

// Exit full screen button behaviour
document.getElementById('exitFull').addEventListener('click', function(e){
  e.preventDefault();
  // by default we will just show a small feedback - you can replace this
  window.location.href = 'index.html';
  // If you need to go back to a previous page, uncomment:
  // window.history.back();
});

</script>

</body>
</html>


<!-- Make sure this file also includes: <script type="module" src="script.js"></script> in the head -->
<script>
  // Exit full screen -> go back to index.html
  const exitBtn = document.getElementById('exitFull') || document.getElementById('exitFullBtnMobile') || null;
  if(exitBtn){
    exitBtn.addEventListener('click', function(e){
      e.preventDefault();
      window.location.href = 'index.html';
    });
  }

  // If you used previous inline JS for reset hooks in this file, you can keep them.
  // But DO NOT duplicate firebase initialization in both files. Prefer single script.js module.
</script>
